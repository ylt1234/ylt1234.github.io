<!DOCTYPE html>
<html lang="en">
    <head>
        
    
    <link rel='stylesheet' href="/./css/dracula.css">

        <title>安全开发-JS</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=2.0">
<link rel="stylesheet" href="/css/style.css">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="manifest" href="/site.webmanifest">

    <meta name="generator" content="Hexo 6.3.0"></head>
    <body>
        <header class="al_header al_pos_fixed">
    <div class="al_header_container dis_flex_jcenter">
        <div class="al_header_container_left">
            <div class="al_header_site_title">
                <a href="/">Hexo</a>
            </div>
        </div>

        <div class="dis_flex_jcenter">
            <div class="al_header_setting">
                <svg class="al_header_icon">
                    <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#svg-menu"></use>
                </svg>
            </div>
        </div>
    </div>
</header>

        <div class="al_sidebar">

    <div class="al_sidebar_overlay al_full_cover"></div>

    <div class="al_pos_fixed al_sidebar_cnt">
        <div class="dis_flex_acenter al_sidebar_header">
            <h3>Hexo</h3>
            <div class="al_sidebar_close al_header_setting">
                <svg class="al_header_icon">
                    <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#svg-close"></use>
                </svg>
            </div>
        </div>

        <div class="al_sidebar_author_cnt">

            <div class="al_sidebar_author_info">
                <h4>znskiw</h4>
                <img class="al_sidebar_avatar" src="https://yourAvatorURL">
                <p></p>
            </div>

            
        </div>
    </div>
</div>

        
    <div class="dis_flex_center al_lightbox_cnt al_full_cover">
        <img class="al_lightbox_img"/>
    </div>
    <div class="al_page_background dis_flex_center al_full_cover"></div>
    <div class="al_page_container">
        <div class="al_pos_ab al_fake_background"></div>
        <div class="al_main_container al_shadow al_main_page_container">
            <article class="al_article">
                <header>
                    <h1 class="al_page_title">
                        安全开发-JS
                    </h1>
                    <div class="al_page_info dis_flex">
                        <div class="al_page_content_info">
                            Wed August 9, 2023 05:55 PM
                        </div>

                        

                        
                        <span class="tags"></span>
                    </div>
                </header>

                
                    <div class="al_page_content_outline">
                        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0"><span class="toc-text">文件上传</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-text">基础知识</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#upload-html"><span class="toc-text">upload.html</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#upload-php"><span class="toc-text">upload.php</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%99%BB%E5%85%A5%E9%AA%8C%E8%AF%81"><span class="toc-text">登入验证</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-1"><span class="toc-text">基础知识</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#login-html"><span class="toc-text">login.html</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#logincheck-php"><span class="toc-text">logincheck.php</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DOM%E6%A0%91"><span class="toc-text">DOM树</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-2"><span class="toc-text">基础知识</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B"><span class="toc-text">开发流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DOM%E5%BA%94%E7%94%A8"><span class="toc-text">DOM应用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#NodeJS"><span class="toc-text">NodeJS</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-3"><span class="toc-text">基础知识</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%99%BB%E5%85%A5%E9%AA%8C%E8%AF%81-1"><span class="toc-text">登入验证</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#sql-html"><span class="toc-text">sql.html</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sql-js"><span class="toc-text">sql.js</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86"><span class="toc-text">文件管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C"><span class="toc-text">命令执行</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#webpack%E6%89%93%E5%8C%85%E5%99%A8"><span class="toc-text">webpack打包器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-4"><span class="toc-text">基础知识</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B-1"><span class="toc-text">开发流程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#count-js"><span class="toc-text">count.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sum-js"><span class="toc-text">sum.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#main-js"><span class="toc-text">main.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#webpack-config-js"><span class="toc-text">webpack.config.js</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%EF%BC%9A"><span class="toc-text">注：</span></a></li></ol></li></ol>
                    </div>
                

                
                <section id="post-body">
                    <p>参考：<a target="_blank" rel="noopener" href="https://www.w3school.com.cn/js/index.asp">https://www.w3school.com.cn/js/index.asp</a></p>
<p><a target="_blank" rel="noopener" href="https://www.w3school.com.cn/jquery/index.asp">https://www.w3school.com.cn/jquery/index.asp</a></p>
<h1 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h1><h2 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h2><p>1、布置前端页面</p>
<p>2、JS获取提交数据</p>
<p>3、JS对上传格式判断</p>
<p>4、后端对上传数据处理</p>
<p>用html写前端页面，用js接受和过滤，用php进行存储</p>
<p>安全问题：</p>
<p>1、过滤代码能看到分析绕过 </p>
<p>2、禁用JS或删除过滤代码绕过</p>
<h2 id="upload-html"><a href="#upload-html" class="headerlink" title="upload.html"></a>upload.html</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;文件上传页面&lt;/title&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">      font-family: Arial, sans-serif;</span><br><span class="line">      background-color: #f2f2f2;</span><br><span class="line">      padding: 20px;</span><br><span class="line">    &#125;</span><br><span class="line">    h1 &#123;</span><br><span class="line">      text-align: center;</span><br><span class="line">      margin-top: 50px;</span><br><span class="line">    &#125;</span><br><span class="line">    form &#123;</span><br><span class="line">      background-color: #fff;</span><br><span class="line">      border-radius: 10px;</span><br><span class="line">      padding: 20px;</span><br><span class="line">      margin-top: 30px;</span><br><span class="line">      max-width: 600px;</span><br><span class="line">      margin: 0 auto;</span><br><span class="line">    &#125;</span><br><span class="line">    input[type=&quot;file&quot;] &#123;</span><br><span class="line">      margin-top: 20px;</span><br><span class="line">      margin-bottom: 20px;</span><br><span class="line">    &#125;</span><br><span class="line">    button &#123;</span><br><span class="line">      background-color: #4CAF50;</span><br><span class="line">      color: #fff;</span><br><span class="line">      padding: 10px 20px;</span><br><span class="line">      border: none;</span><br><span class="line">      border-radius: 5px;</span><br><span class="line">      cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line">    button:hover &#123;</span><br><span class="line">      background-color: #3e8e41;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;文件上传&lt;/h1&gt;</span><br><span class="line">&lt;form action=&quot;upload.php&quot; method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot;&gt;</span><br><span class="line">  &lt;label for=&quot;file&quot;&gt;选择文件:&lt;/label&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;input type=&quot;file&quot; id=&quot;file&quot; name=&quot;f&quot; onchange=&quot;CheckFileExt(this.value)&quot;&gt; //onchange=&quot;CheckFileExt(this.value)&quot;的意思是当这里产生变化，即选择了文件时，调用CheckFileExt函数检测后缀</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;button type=&quot;submit&quot;&gt;上传文件&lt;/button&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt; //js代码要用这个标签包在里面</span><br><span class="line">  function CheckFileExt(filename)&#123;</span><br><span class="line">    var flag=false;</span><br><span class="line">    //规定白名单上传后缀</span><br><span class="line">    var exts=[&#x27;png&#x27;,&#x27;gif&#x27;,&#x27;jpg&#x27;];</span><br><span class="line">    var index=filename.lastIndexOf(&quot;.&quot;); //获取最后一次出现.的位置</span><br><span class="line">    var ext = filename.substr(index+1); //获取.之后的内容，即后缀</span><br><span class="line">    //进行后缀检测</span><br><span class="line">    for(i=0;i&lt;exts.length;i++)&#123;</span><br><span class="line">      if(ext==exts[i])&#123;</span><br><span class="line">        var flag=true;</span><br><span class="line">        alert(&#x27;文件后缀正确！&#x27;);</span><br><span class="line">        break;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    if(!flag)&#123;</span><br><span class="line">      alert(&#x27;文件后缀错误！&#x27;)</span><br><span class="line">      location.reload(true);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="upload-php"><a href="#upload-php" class="headerlink" title="upload.php"></a>upload.php</h2><p>这个就和php之前写的是一样的了</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$name=$_FILES[&#x27;f&#x27;][&#x27;name&#x27;];</span><br><span class="line">$type=$_FILES[&#x27;f&#x27;][&#x27;type&#x27;];</span><br><span class="line">$size=$_FILES[&#x27;f&#x27;][&#x27;size&#x27;];</span><br><span class="line">$tmp_name=$_FILES[&#x27;f&#x27;][&#x27;tmp_name&#x27;];</span><br><span class="line">$error=$_FILES[&#x27;f&#x27;][&#x27;error&#x27;];</span><br><span class="line"></span><br><span class="line">if(move_uploaded_file($tmp_name,&#x27;upload/&#x27;.$name))&#123;</span><br><span class="line">    echo &#x27;&lt;script&gt;alert(&quot;上传成功!&quot;)&lt;/script&gt;&#x27;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="登入验证"><a href="#登入验证" class="headerlink" title="登入验证"></a>登入验证</h1><h2 id="基础知识-1"><a href="#基础知识-1" class="headerlink" title="基础知识"></a>基础知识</h2><p>1、布置前端页面</p>
<p>2、获取登录事件</p>
<p>3、配置Ajax请求</p>
<p>4、后端代码验证</p>
<p>5、成功回调判断</p>
<p>后端PHP进行帐号判断，前端JS进行登录处理</p>
<h2 id="login-html"><a href="#login-html" class="headerlink" title="login.html"></a>login.html</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;后台登录&lt;/title&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">      background-color: #f1f1f1;</span><br><span class="line">    &#125;</span><br><span class="line">    .login &#123;</span><br><span class="line">      width: 400px;</span><br><span class="line">      margin: 100px auto;</span><br><span class="line">      background-color: #fff;</span><br><span class="line">      border-radius: 5px;</span><br><span class="line">      box-shadow: 0 0 10px rgba(0,0,0,0.3);</span><br><span class="line">      padding: 30px;</span><br><span class="line">    &#125;</span><br><span class="line">    .login h2 &#123;</span><br><span class="line">      text-align: center;</span><br><span class="line">      font-size: 2em;</span><br><span class="line">      margin-bottom: 30px;</span><br><span class="line">    &#125;</span><br><span class="line">    .login label &#123;</span><br><span class="line">      display: block;</span><br><span class="line">      margin-bottom: 20px;</span><br><span class="line">      font-size: 1.2em;</span><br><span class="line">    &#125;</span><br><span class="line">    .login input[type=&quot;text&quot;], .login input[type=&quot;password&quot;] &#123;</span><br><span class="line">      width: 100%;</span><br><span class="line">      padding: 10px;</span><br><span class="line">      border: 1px solid #ccc;</span><br><span class="line">      border-radius: 5px;</span><br><span class="line">      font-size: 1.2em;</span><br><span class="line">      margin-bottom: 20px;</span><br><span class="line">    &#125;</span><br><span class="line">    .login input[type=&quot;submit&quot;] &#123;</span><br><span class="line">      background-color: #2ecc71;</span><br><span class="line">      color: #fff;</span><br><span class="line">      border: none;</span><br><span class="line">      padding: 10px 20px;</span><br><span class="line">      border-radius: 5px;</span><br><span class="line">      font-size: 1.2em;</span><br><span class="line">      cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line">    .login input[type=&quot;submit&quot;]:hover &#123;</span><br><span class="line">      background-color: #27ae60;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div class=&quot;login&quot;&gt;</span><br><span class="line">  &lt;h2&gt;后台登录&lt;/h2&gt;</span><br><span class="line">    &lt;label for=&quot;username&quot;&gt;用户名:&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; name=&quot;username&quot; id=&quot;username&quot; class=&quot;user&quot; &gt;</span><br><span class="line">    &lt;label for=&quot;password&quot;&gt;密码:&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;password&quot; class=&quot;pass&quot; &gt;</span><br><span class="line">  &lt;button&gt;登录&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script src=&quot;js/jquery-1.12.4.js&quot;&gt;&lt;/script&gt; //引入jquery库</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  $(&quot;button&quot;).click(function ()&#123; //当button，即点击登入按钮时触发</span><br><span class="line">    $.ajax(&#123; //jquery库里传参的函数</span><br><span class="line">      type: &#x27;POST&#x27;,</span><br><span class="line">      url: &#x27;logincheck.php&#x27;,</span><br><span class="line">      data: &#123;</span><br><span class="line">        myuser:$(&#x27;.user&#x27;).val(), //传过去的变量名叫myuser，传的是user的值</span><br><span class="line">        mypass:$(&#x27;.pass&#x27;).val() //传过去的变量名叫mypass，传的是pass的值</span><br><span class="line">      &#125;,</span><br><span class="line">      success: function (res)&#123; //成功的话调用函数</span><br><span class="line">        console.log(res); //可以在调试器里看到msg和infocode</span><br><span class="line">        if(res[&#x27;infoCode&#x27;]==1)&#123; //infoCode是logincheck.php里的参数</span><br><span class="line">          alert(&#x27;登录成功&#x27;);</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">          alert(&#x27;登录失败&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      dataType: &#x27;json&#x27;, //传输格式</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h2 id="logincheck-php"><a href="#logincheck-php" class="headerlink" title="logincheck.php"></a>logincheck.php</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$user=$_POST[&#x27;myuser&#x27;];</span><br><span class="line">$pass=$_POST[&#x27;mypass&#x27;];</span><br><span class="line">//真实情况需要在数据库获取</span><br><span class="line">$success=array(&#x27;msg&#x27;=&gt;&#x27;ok&#x27;);</span><br><span class="line">if($user==&#x27;znskiw&#x27; &amp;&amp; $pass==&#x27;123456&#x27;)&#123;</span><br><span class="line">    $success[&#x27;infoCode&#x27;]=1;</span><br><span class="line">    echo &#x27;&lt;script&gt;location.href=&quot;index.php&quot;;&lt;/script&gt;&#x27;;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    $success[&#x27;infoCode&#x27;]=0;</span><br><span class="line">&#125;</span><br><span class="line">echo json_encode($success); //必须要，不是输出，是回调到login.html那里</span><br></pre></td></tr></table></figure>

<h1 id="DOM树"><a href="#DOM树" class="headerlink" title="DOM树"></a>DOM树</h1><h2 id="基础知识-2"><a href="#基础知识-2" class="headerlink" title="基础知识"></a>基础知识</h2><p>DOM：文档操作对象</p>
<p>浏览器提供的一套专门用来操作网页代码内容的功能，实现自主或用户交互动作反馈</p>
<p>安全问题：本身的前端代码通过DOM技术实现代码的更新修改，但是更新修改如果修改的数据可以由用户来指定，就会造成DOM-XSS攻击！</p>
<p>1、获取对象</p>
<p>标签：直接写</p>
<p>Class：加上符号.</p>
<p>id：加上符号#</p>
<p><code>&lt;h1 id=&quot;myHeader&quot; onclick=&quot;getValue()&quot;&gt;这是标题&lt;/h1&gt;</code></p>
<p>document.querySelector(‘h1’)</p>
<p>document.querySelector(‘.id’)</p>
<p>document.querySelector(‘#myHeader’)</p>
<p>2、获取对象属性</p>
<p><code>&lt;h1 id=&quot;myHeader&quot; onclick=&quot;getValue()&quot;&gt;这是标题&lt;/h1&gt;</code></p>
<p>const h1&#x3D;document.querySelector(‘h1’)</p>
<p>const id&#x3D;h1.id</p>
<p>console.log(id)</p>
<p>2、操作元素数据</p>
<p>innerHTML 解析后续代码</p>
<p>innerText 不解析后续代码</p>
<p>3、操作元素属性</p>
<p>className src id等</p>
<p><code>&lt;img src=&quot;iphone.jpg&quot; width=&quot;300&quot; height=&quot;300&quot;&gt;&lt;/img&gt;</code></p>
<p>const src&#x3D;document.querySelector(‘img’)</p>
<p>src.src&#x3D;’huawei.png’</p>
<h2 id="开发流程"><a href="#开发流程" class="headerlink" title="开发流程"></a>开发流程</h2><p>dom.html</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 id=&quot;myHeader&quot; onclick=&quot;update()&quot;&gt;this is title&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">&lt;img src=&quot;fzbz.jpg&quot; width=&quot;500&quot; height=&quot;300&quot;&gt;&lt;br&gt;</span><br><span class="line"></span><br><span class="line">&lt;button onclick=&quot;update()&quot;&gt;click&lt;/button&gt; //点击这个按钮，触发这个函数</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    function update()&#123;</span><br><span class="line">        const s=document.querySelector(&#x27;img&#x27;) //把img标签赋值给s</span><br><span class="line">        s.src=&quot;FAFU.jpg&quot; 给s的src赋新值,即点击后图片从fzbz.jpg改成FAFU.jpg</span><br><span class="line">        //如果这里FAFU.jpg为一个变量由用户传递决定，那么就会造成DOM XSS eg:&#x27;&lt;img src=# onerror=&quot;alert(1)&quot;&gt;&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>效果如图：</p>
<p><img src="/2023/08/09/%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91-JS/19.png" alt="19"></p>
<p>点击按钮变成</p>
<p><img src="/2023/08/09/%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91-JS/20.png" alt="20"></p>
<h2 id="DOM应用"><a href="#DOM应用" class="headerlink" title="DOM应用"></a>DOM应用</h2><p>例如翻译网站，点击翻译按钮刷新翻译内容。翻译页面太难复现，就用这个模仿它的思路</p>
<h1 id="NodeJS"><a href="#NodeJS" class="headerlink" title="NodeJS"></a>NodeJS</h1><h2 id="基础知识-3"><a href="#基础知识-3" class="headerlink" title="基础知识"></a>基础知识</h2><p>Node.js 是运行在服务端的 JavaScript。和普通js最大的不同是在浏览器端无法看见代码</p>
<p>三方库安装：</p>
<p>express：</p>
<p>Express是一个简洁而灵活的node.js Web应用框架</p>
<p>body-parser：</p>
<p>node.js中间件，用于处理 JSON, Raw, Text和URL编码的数据。</p>
<p>cooke-parser：</p>
<p>这就是一个解析Cookie的工具。通过req.cookies可以取到传过来的cookie，并把它们转成对象。</p>
<p>multer：</p>
<p>node.js中间件，用于处理 enctype&#x3D;”multipart&#x2F;form-data”（设置表单的MIME编码）的表单数据。</p>
<p>mysql：</p>
<p>Node.js来连接MySQL专用库，并对数据库进行操作。</p>
<p>安装命令：</p>
<p>npm i express</p>
<p>npm i body-parser</p>
<p>npm i cookie-parser</p>
<p>npm i multer</p>
<p>npm i mysql</p>
<p>实战测试NodeJS安全：</p>
<p>判断：参考前期的信息收集（插件&#x2F;xff来自express）</p>
<p>黑盒：通过对各种功能和参数进行payload测试</p>
<p>白盒：通过对代码中写法安全进行审计分析</p>
<h2 id="登入验证-1"><a href="#登入验证-1" class="headerlink" title="登入验证"></a>登入验证</h2><h3 id="sql-html"><a href="#sql-html" class="headerlink" title="sql.html"></a>sql.html</h3><p>和之前差不多，就改一下表单的action</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;后台登录&lt;/title&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">      background-color: #f1f1f1;</span><br><span class="line">    &#125;</span><br><span class="line">    .login &#123;</span><br><span class="line">      width: 400px;</span><br><span class="line">      margin: 100px auto;</span><br><span class="line">      background-color: #fff;</span><br><span class="line">      border-radius: 5px;</span><br><span class="line">      box-shadow: 0 0 10px rgba(0,0,0,0.3);</span><br><span class="line">      padding: 30px;</span><br><span class="line">    &#125;</span><br><span class="line">    .login h2 &#123;</span><br><span class="line">      text-align: center;</span><br><span class="line">      font-size: 2em;</span><br><span class="line">      margin-bottom: 30px;</span><br><span class="line">    &#125;</span><br><span class="line">    .login label &#123;</span><br><span class="line">      display: block;</span><br><span class="line">      margin-bottom: 20px;</span><br><span class="line">      font-size: 1.2em;</span><br><span class="line">    &#125;</span><br><span class="line">    .login input[type=&quot;text&quot;], .login input[type=&quot;password&quot;] &#123;</span><br><span class="line">      width: 100%;</span><br><span class="line">      padding: 10px;</span><br><span class="line">      border: 1px solid #ccc;</span><br><span class="line">      border-radius: 5px;</span><br><span class="line">      font-size: 1.2em;</span><br><span class="line">      margin-bottom: 20px;</span><br><span class="line">    &#125;</span><br><span class="line">    .login input[type=&quot;submit&quot;] &#123;</span><br><span class="line">      background-color: #2ecc71;</span><br><span class="line">      color: #fff;</span><br><span class="line">      border: none;</span><br><span class="line">      padding: 10px 20px;</span><br><span class="line">      border-radius: 5px;</span><br><span class="line">      font-size: 1.2em;</span><br><span class="line">      cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line">    .login input[type=&quot;submit&quot;]:hover &#123;</span><br><span class="line">      background-color: #27ae60;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div class=&quot;login&quot; &gt;</span><br><span class="line">  &lt;h2&gt;后台登录&lt;/h2&gt;</span><br><span class="line">  &lt;form action=&quot;http://127.0.0.1:3000/login&quot; method=&quot;POST&quot;&gt; //提交到本地3000端口的login文件</span><br><span class="line">    &lt;label for=&quot;username&quot;&gt;用户名:&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; name=&quot;username&quot; id=&quot;username&quot; class=&quot;user&quot; &gt;</span><br><span class="line">    &lt;label for=&quot;password&quot;&gt;密码:&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;password&quot; class=&quot;pass&quot; &gt;</span><br><span class="line">  &lt;button&gt;登录&lt;/button&gt;</span><br><span class="line">  &lt;/form&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h3 id="sql-js"><a href="#sql-js" class="headerlink" title="sql.js"></a>sql.js</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">const mysql=require(&#x27;mysql&#x27;);</span><br><span class="line">const express = require(&#x27;express&#x27;);</span><br><span class="line">const bodyParser = require(&#x27;body-parser&#x27;);</span><br><span class="line">const app=express();</span><br><span class="line">var urlencodedParser = bodyParser.urlencoded(&#123; extended: false &#125;)  //引入库</span><br><span class="line"></span><br><span class="line">// //GET路由</span><br><span class="line">// app.get(&#x27;/login&#x27;,function(req,res)&#123;</span><br><span class="line">//     const u = req.query.username; //req.query接受grt提交的username</span><br><span class="line">//     const p = req.query.password; //req.query接受get提交的username</span><br><span class="line">//     console.log(u);</span><br><span class="line">//     console.log(p);</span><br><span class="line">//     if(u==&#x27;admin&#x27; &amp;&amp; p == &#x27;123456&#x27;)&#123;</span><br><span class="line">//         res.send(&#x27;欢迎进入后台管理页面&#x27;);</span><br><span class="line">//     &#125;else&#123;</span><br><span class="line">//         res.send(&#x27;登录用户或密码错误！&#x27;);</span><br><span class="line">//     &#125;;</span><br><span class="line">// &#125;)  //如果用get路由的话，sql.html表单的method就要改成get</span><br><span class="line"></span><br><span class="line">//post路由</span><br><span class="line">app.post(&#x27;/login&#x27;,urlencodedParser,function(req,res)&#123; //req是接收，res是发送</span><br><span class="line">    const u = req.body.username;  //req.body接受post提交的username</span><br><span class="line">    const p = req.body.password;  //req.body接受post提交的password</span><br><span class="line">    console.log(u); </span><br><span class="line">    console.log(p); ////在调试器里显示u和p</span><br><span class="line">    var connection = mysql.createConnection(&#123;</span><br><span class="line">        host     : &#x27;localhost&#x27;,</span><br><span class="line">        user     : &#x27;root&#x27;,</span><br><span class="line">        password : &#x27;123456&#x27;,</span><br><span class="line">        database : &#x27;demo01&#x27;</span><br><span class="line">    &#125;); //连接数据库</span><br><span class="line">    </span><br><span class="line">    connection.connect();</span><br><span class="line">    const sql = &#x27;select * from admin where username=&quot;&#x27;+u+&#x27;&quot; and password=&quot;&#x27;+p+&#x27;&quot;&#x27;; //sql语句，+的意思为连接字符串</span><br><span class="line">    console.log(sql);</span><br><span class="line">    connection.query(sql,function(error,data)&#123;</span><br><span class="line">        if(error)&#123;</span><br><span class="line">            console.log(&#x27;数据库连接失败！&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">        try&#123;</span><br><span class="line">            if(u==(data[0][&#x27;username&#x27;]) &amp;&amp; p==data[0][&#x27;password&#x27;])&#123;</span><br><span class="line">                res.send(&#x27;欢迎进入后台管理页面&#x27;); //输出</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;catch&#123; //try命令失败执行</span><br><span class="line">            res.send(&#x27;错误&#x27;);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;)</span><br><span class="line">   </span><br><span class="line">app.get(&#x27;/&#x27;,function(req,res)&#123; //路由，在当前页面显示sql.html的内容</span><br><span class="line">    res.sendFile(__dirname+&#x27;/&#x27;+&#x27;sql.html&#x27;);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">const server = app.listen(3000,function()&#123; //启动web服务,设置3000端口</span><br><span class="line">    console.log(&#x27;web的3000端口已启动!&#x27;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>这里访问web要在vsc调试器里在当前目录下执行<code>node .\sql.js</code>，访问<code>127.0.0.1:3000</code></p>
<h2 id="文件管理"><a href="#文件管理" class="headerlink" title="文件管理"></a>文件管理</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">const fs=require(&#x27;fs&#x27;);</span><br><span class="line">const express = require(&#x27;express&#x27;);</span><br><span class="line">const app = express(); //调用库</span><br><span class="line"></span><br><span class="line">app.get(&#x27;/file&#x27;, function (req, res) &#123; //路由</span><br><span class="line">    const dir=req.query.dir; //接受get传来的参数</span><br><span class="line">    console.log(dir); //在控制台里显示</span><br><span class="line">    filemanage(dir); //执行h</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">var server = app.listen(3000, function () &#123;</span><br><span class="line">    console.log(&#x27;web应用3000端口已启动!&#x27;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">function filemanage(dir)&#123;</span><br><span class="line">    fs.readdir(dir,function(error,files)&#123;</span><br><span class="line">        console.log(files);  </span><br><span class="line">&#125;)&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这里没有设置前端页面和显示代码，我们要自己访问<code>/file</code>目录和get传dir参数，在vsc控制台看结果</p>
<h2 id="命令执行"><a href="#命令执行" class="headerlink" title="命令执行"></a>命令执行</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const rce=require(&#x27;child_process&#x27;); //引入库</span><br><span class="line"></span><br><span class="line">//nodejs 调用系统命令执行</span><br><span class="line">//rce.exec(&#x27;cale&#x27;);</span><br><span class="line">//rce.spawnSync(&#x27;calc&#x27;); //系统命令执行，弹计算机的两种写法</span><br><span class="line"></span><br><span class="line">//nodejs 调用代码命令执行 把字符串当做代码解析</span><br><span class="line">eval(&#x27;console.log(1);&#x27;); //代码执行，调试器显示1</span><br></pre></td></tr></table></figure>

<h1 id="webpack打包器"><a href="#webpack打包器" class="headerlink" title="webpack打包器"></a>webpack打包器</h1><h2 id="基础知识-4"><a href="#基础知识-4" class="headerlink" title="基础知识"></a>基础知识</h2><p>Webpack是一个模块打包器。在Webpack中会将前端的所有资源文件都作为模块处理。它将根据模块的依赖关系进行分析，生成对应的资源。</p>
<p>五个核心概念:</p>
<p>\1. 【入口(entry)】：指示webpack应该使用哪个模块，来作为构建内部依赖图开始。</p>
<p>\2. 【输出(output)】：在哪里输出文件，以及如何命名这些文件。</p>
<p>\3. 【Loader】：处理那些非JavaScript文件（webpack 自身只能解析 JavaScript和json）。webpack 本身只能处理JS、JSON模块，如果要加载其他类型的文件(模块)，就需要使用对应的loader。</p>
<p>\4. 【插件(plugins)】：执行范围更广的任务，从打包到优化都可以实现。</p>
<p>\5. 【模式(mode)】：有生产模式production和开发模式development。</p>
<p>使用：</p>
<p>1、创建需打包文件</p>
<p>2、安装webpack库</p>
<p>3、创建webpack配置文件</p>
<p>4、运行webpack打包命令</p>
<p>安全：</p>
<p>WebPack源码泄漏-模式选择，打包模式选择开发者模式后会造成源码泄漏，把所有代码都展现出来</p>
<h2 id="开发流程-1"><a href="#开发流程-1" class="headerlink" title="开发流程"></a>开发流程</h2><p>来两个文件随便写一点东西</p>
<h3 id="count-js"><a href="#count-js" class="headerlink" title="count.js"></a>count.js</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export default function count(x,y)&#123;</span><br><span class="line">    return x-y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="sum-js"><a href="#sum-js" class="headerlink" title="sum.js"></a>sum.js</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export default function sum(x,y)&#123;</span><br><span class="line">    return x+y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="main-js"><a href="#main-js" class="headerlink" title="main.js"></a>main.js</h3><p>用一个文件调用他们</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import count from &quot;./js/count&quot;;</span><br><span class="line">import sum from &quot;./js/sum&quot;;</span><br><span class="line"></span><br><span class="line">console.log(count(2,1));</span><br><span class="line">console.log(sum(2,1));</span><br></pre></td></tr></table></figure>

<h3 id="webpack-config-js"><a href="#webpack-config-js" class="headerlink" title="webpack.config.js"></a>webpack.config.js</h3><p>打包器文件，名字必须为这个，不能变</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const path = require(&#x27;path&#x27;); // 引入path模块</span><br><span class="line">module.exports = &#123;</span><br><span class="line">    entry: &#x27;./src/main.js&#x27;, ////输入是src下的mian文件</span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname, &#x27;dist&#x27;),</span><br><span class="line">        filename: &#x27;bundle.js&#x27;,</span><br><span class="line">        clean: true,</span><br><span class="line">    &#125;, //输出在dist文件夹下额bundle.js</span><br><span class="line">    mode:&quot;development&quot;, //模式二选一，上面是开发者模式，下面是生产者模式</span><br><span class="line">    //mode:&quot;production&quot;,</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>用命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i webpack webpack-cli -g  //安装库</span><br><span class="line">npx webpack //打包</span><br></pre></td></tr></table></figure>



<p>最后当我们想要调用这两个文件的时候，只要调用bundle.js即可</p>
<h2 id="注："><a href="#注：" class="headerlink" title="注："></a>注：</h2><p>用开发者打包生成的bundle.js，里面内容很多。</p>
<p><img src="/2023/08/09/%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91-JS/21.png" alt="21"></p>
<p>用生产者模式打包的只有结果。</p>
<p><img src="/2023/08/09/%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91-JS/22.png" alt="22"></p>
<p>并且<strong>开发者模式在浏览器里可以通过调试器里看到所有源码</strong>，包括本来作用在服务器端不显示的nodejs</p>
<p><img src="/2023/08/09/%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91-JS/23.png" alt="23"></p>
<p>生产者模式就没有这个问题</p>
<p><img src="/2023/08/09/%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91-JS/24.png" alt="24"></p>

                </section>

                
                

                

            </article>

            
            <nav class="dis_flex al_post_nav">
                <a class="al_post_nav_item dis_flex_acenter" href="/2023/08/13/%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91-JavaEE/">
                    
                        <svg class="al_arrow">
                            <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#svg-arrow-left"></use>
                        </svg>
                        <span class="al_text_ellipsis al_post_nav_desc">安全开发-JavaEE</span>
                    
                </a>
                <a class="al_post_nav_item dis_flex_acenter" href="/2023/08/02/%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91-PHP/">
                    
                        <span class="al_text_ellipsis al_post_nav_desc">安全开发-PHP</span>
                        <svg class="al_arrow">
                            <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#svg-arrow-right"></use>
                        </svg>
                    
                </a>
            </nav>
        </div>
    </div>


        <div class="al_index_footer dis_flex_center">
    <div class="al_index_footer_item al_index_footer_title">
        znskiw
    </div>

    
    

    <div class="al_index_footer_item al_index_footer_extra">
        Created By 
        <a target="_blank" rel="noopener" href="https://github.com/iGuan7u/Acetolog">AcetoLog</a>
         · Power By 
        <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>
    </div>

    <div class="al_index_footer_item al_index_footer_extra_right">
        All Right Reserved
    </div>
</div>

        <script type="text/javascript" async="async" src="/javascripts/acelog.js"></script>
        
        
        
        
        

    </body>
</html>